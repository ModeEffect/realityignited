(()=>{"use strict";var e,t,n={1455:e=>{e.exports=window.wp.apiFetch}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e](o,o.exports,s),o.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=s(1455),t=s.n(e),document.addEventListener("DOMContentLoaded",(async()=>{async function e(e){e.preventDefault();const n=e.target,r=n.parentElement,s=n.dataset.commentId,o=r.classList.contains("unlike"),i={path:o?`/rest/v1.1/comments/${s}/likes/mine/delete`:`/rest/v1.1/comments/${s}/likes/new`,method:"POST"};let a;n.disabled=!0;try{if(a=await t()(i),!a.success)throw new Error}catch{const e=o?"post_unlike_error":"post_like_error";return void(e=>{const t=document.querySelector(".wp-header-end");if(!t)return;const n=window.wpcomCommentLikesData.dismiss_notice_text,r=document.createElement("div");r.className="notice notice-error is-dismissible",r.setAttribute("role","alert");const s=document.createElement("p");s.innerText=e,r.appendChild(s);const o=document.createElement("button");o.setAttribute("type","button"),o.className="notice-dismiss",o.setAttribute("aria-label",n),r.appendChild(o);const i=document.createElement("span");i.className="screen-reader-text",i.innerText=n,o.appendChild(i),o.addEventListener("click",(()=>{r.remove()})),t.after(r),window.wp?.a11y?.speak?.(e)})(window.wpcomCommentLikesData?.[e])}finally{n.disabled=!1}r.closest("tr").classList.toggle("liked",a.i_like)}document.querySelectorAll("#the-comment-list .row-actions > :is(.like, .unlike)").forEach((t=>t.addEventListener("click",e)))}))})();